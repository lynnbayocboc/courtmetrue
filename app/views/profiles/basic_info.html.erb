<div class="userProfile">
  <section style="background:#efefe9;">
    <div class="container">
      <div class="row">
        <div class="board">
	      	<div class="tab-content">
	      	  <%= simple_form_for @profile, :html => { :onsubmit => "return validateForm()" }, url: wizard_path, method: :put, wrapper: :vertical_form,
	                                                wrapper_mappings: {
	                                                  check_boxes: :horizontal_radio_and_checkboxes,
	                                                  radio_buttons: :horizontal_radio_and_checkboxes,
	                                                  file: :horizontal_file_input,
	                                                  datetime: :multi_select
	                                                }  do |f| %>
	                                                
        
	          	<fieldset>
	                <%= f.label "Name" %>
	                <%= f.input :name, label: false, placeholder: "Name", input_html: { class: "form-control" } %>
	                <p id="name" style="color:red; display: none;" >please enter name</p>
	                <%= f.input :dob,
	                        start_year: Date.today.year - 90,
	                        end_year: Date.today.year - 12,
	                        discard_day: true,
	                        order: [:month, :year],
	                        label: "Date of birth"  %>
	                <%= f.input :country  %>
	                 <p id="country" style="color:red; display: none;" >please enter country</p>
	                <%= f.input :state, label: 'State/Province'  %>
	                <p id="state" style="color:red; display: none;" >please enter state</p>
	                <%= f.input :city  %>
	                <p id="city" style="color:red; display: none;" >please enter city</p>
	                <%= f.input :gender,
	                            collection: [[:Male, "Male"], [:Female, "Female"]],
	                            label_method: :last,
	                            value_method: :first,
	                            as: :radio_buttons,
	                            item_wrapper_class: 'radio-inline'  %>
	                <p id="gender" style="color:red; display: none;" >please choose gender</p>            
	                <%= f.input :status, label: 'Marital status' , collection: [:Single, :Divorce, :Widow], as: :radio_buttons, :item_wrapper_class => 'radio-inline'  %>
	                <p id="status" style="color:red; display: none;" >please choose status</p>
	                <%= f.input :religion, collection: [:Baha, :Bhudist, :"Christian - Catholic", :"Christian - Other", :"Christian - Protestant", :Hindu, :Islam, :Jainism, :Jewish, :Parsi, :Shintoism, :Sikhism, :Taoism, :Other, :"No Religion"]  %>
	                <p id="religion" style="color:red; display: none;" >please choose religion</p>
	                <br>
	                <%# f.input :language, collection: [:English, :Tagalog, :Spanish, :Chinese, :German, :French] %>
	                 <%= f.label "Language" %>
	                 <%= f.select :language, options_for_select(["English", "Tagalog", "Cebauano", "Chinese", "Thai", "French", "German", "Armenian", "Arabic", "Spanish", "Japanese"], :selected => f.object.language), {}, :class => 'form-control' %>
	                  <p id="language" style="color:red; display: none;" >please choose language</p>
	                <%# f.input :language, collection: [:English, :Filipino] %>
                  <%# f.language_select("language", [ "English", "Spanish", "French" ], nil, nil)  %>
                  <%= f.input :ethnicity, collection: [:"Arab (Middle Eastern)", :Asian, :Black, :"Caucasian(White)", :"Hispanic/Latino", :Indian, :Mixed, :"Pacific Islander", :Other] %>
	                <p id="ethnicity" style="color:red; display: none;" >please choose ethnicity</p>
	                <%= f.input :education, label: 'Education', collection: [:"Primary(Elementary) School",:"Middle School/Junior High", :"High School", :"Vocational College", :"Bachelors Degree", :"Masters Degree", :"Phd or Doctorate"]  %>
	                <p id="education" style="color:red; display: none;" >please choose education</p>
	                <%= f.input :occupation %>
	                <p id="occupation" style="color:red; display: none;" >please enter occupation</p>
	                <%= f.input :household, label: 'Living Situation' , collection: [:Alone, :Housemates, :family]  %>
	                 <p id="household" style="color:red; display: none;" >please choose one</p>
	                <%# f.input :height, input_html: { type: 'number', min: '1', max: '200', value: f.object.height || '1' }, :label => "Height(in centimeters)"  %>
                <br>
                 <%= f.label "Height"%>
                 <%= f.select :height, options_for_select((140..500).map {|i| "#{i} cm"}, :selected => @profile.height), {}, class: "form-control" %>
	                <%# f.input :weight, input_html: { type: 'number', min: '1', max: '200', value: f.object.weight || '1' }, :label => "Weight(in kilograms)"  %>
	                <%= f.label "Weight"%>
	                <%= f.select :weight, options_for_select((40..500).map {|i| "#{i} kg" }, :selected => @profile.weight), {}, class: "form-control" %>
	                <%= f.input :bodytype, label: 'Body Type' , collection: [:Slim, :Athletic, :Average, :"Few Extra Pounds", :"Full Figured", :"Large and Lovely"]  %>
	                 <p id="bodytype" style="color:red; display: none;" >please choose one</p>
	                <%= f.input :smoker, label: 'Do you smoke?', collection: [:Yes, :No]  %>
	                 <p id="smoker" style="color:red; display: none;" >please answer</p>
	                <%= f.input :drinker, label: 'Do you drink?', collection: [:"Not At All", :"Occasional Drinker", :"Heavy Drinker"]  %>
	                 <p id="drinker" style="color:red; display: none;" >please choose your answer</p>
	                <%= f.input :children, label: 'Do you have children?', collection: [:Yes, :No]  %>
	                 <p id="children" style="color:red; display: none;" >please choose your answer</p>
	                <%= f.input :wantkids, label: 'Do you want to have a children?', collection: [:Yes, :No, :Maybe]  %>
	                 <p id="wantkids" style="color:red; display: none;" >please choose your answer</p>
	                <%= f.input :experience_with_courtship, label: 'Do you have courtship experience?', collection: [:"New to Courtship", :"Experienced with Courtship"]  %>
	                 <p id="experience" style="color:red; display: none;" >please choose your answer</p>
	                <%= f.input :religious_values, label: "Religious Values", collection: [:"Religious", :"Not Religious"]  %>
	                 <p id="religious" style="color:red; display: none;" >please choose your answer</p>
	                <br>
	                <%= f.label :profile_heading%>
	                <%= f.text_area :profile_heading, label: 'Your Profile Heading', :rows => 5, class: "form-control", :maxlength => 51, id: "text_area"  %>
                  <p id="heading" style="color:red; display: none;" >please fill this up</p>
                  <br>
                  <% unless @profile.male? %>
                    <label class="select optional control-label" for="profile_smoker">
                      Courtship Preferences
                    </label>
                    <br/>
                    <% if CourtshipPreference.all.empty? %>
                      <p>None found. Contact support.</p>
                    <% end %>
                    <%= collection_check_boxes(:profile, :courtship_preference_ids, CourtshipPreference.all, :id, :name)  %>
                  <% end %>
                  <%= f.input :selfbio, label: 'Tell something about your self', as: :text  %>
                  <p id="selfbio" style="color:red; display: none;" >please fill this up</p>
                  <%= f.input :ideal, label: 'Describe you ideal partner', as: :text  %>
                  <p id="ideal" style="color:red; display: none;" >please fill this up</p>
          
                   <br>
                   <div class="container">
                      <div class="row" >
                        <div class="col-md-1">
                        <img src="/assets/profile-pic-icon.png" class="pull-left"> 
                        </div>
                     <div>
                          Your Profile Picture
                      </div>
                      </div>
                    </div>
                    <br>
                    <hr>
                   <fieldset>
                <div class="tab-pane fade in active" id="home">
                  <div class="">
                    <div class="row">
                      <%= f.fields_for :profile_photos do |p| %>
                        <%= p.hidden_field :is_profile_pic, value: true if @profile.first_photo? %>
                        <div class="col-xs-6 col-md-3 thumb">
                          <span class="thumbnail">
                            <img src="/assets/set-as-profile-pic-icon.png" class="currentProfilePic" id="currentProfilePic-<%= p.object.id %>" style="display: <%= p.object.is_profile_pic? ? 'block' : 'none' %>" />
                            <% if p.object.photo.blank? %>
                              <%= image_tag p.object.photo(:thumb), class: "img-responsive" %>
                            <% else %>
                              <%= link_to (image_tag p.object.photo(:thumb), class: "img-responsive", title: "Set as profile picture"), set_as_profile_picture_profile_photo_path(p.object.id), :class => 'setAsProfilePicture', remote: true %>
                            <% end %>
                            <label class="add-photo-btn"> Select Picture
                              <span>
                                <%= p.input :photo, :multiple => true, as: :file, label: false %>
                              </span>
                            </label>
                            <%= p.check_box :_destroy, class: "removePhoto" %>
                          </span>
                        </div>
                      <% end %>
                    </div>
                  </div>
                  <button type="submit" href="#profile" name="home_form" class="bbtn">
                    Upload Photo <span class="glyphicon glyphicon-upload"></span>
                  </button>
                  <button type="submit" href="#profile" name="home_form" class="bbtn">
                    Delete checked photos <span class="glyphicon glyphicon-minus"></span>
                  </button>
                  <br>
                </div>
                <br></br>
                        <%= f.input :tandc, label: 'Yes, I Agree to the terms and conditions.',
                         as: :boolean,
                         checked_value: true,
                         unchecked_value: false  %>
                          <p id="tandc" style="color:red; display: none;" >You must agree to the terms and conditions</p>
                         
                </div>
                <div class="clearfix"></div>
              </fieldset>
	                <button type="submit" href="#profile" name="home_form" class="btn-submit btn btn-success btn-outline-rounded green btnNext">
	                	Submit Profile <span class="glyphicon glyphicon-send"></span>
	                </button>
	              </div>
	              <div class="clearfix"></div>
	            </fieldset>
	          <% end %>
	        </div>
	      </div>
		  </div>
	  </div>
	</section>
</div>

<%# link_to "Back to my profile", myprofile_path, class: "btn btn-info" %>

<script>
$( "#text_area" ).on('input', function() {
    if ($(this).val().length>50) {
        alert('Your profile heading: Maximum 50 characters. ');       
    }
});

function validateForm() {
  var profile_name = document.getElementById("profile_name").value;
  var profile_country = document.getElementById("profile_country");
  var profile_country_value = profile_country.options[profile_country.selectedIndex].value;
  var profile_state = document.getElementById("profile_state").value;
  var profile_city = document.getElementById("profile_city").value;
  var profile_gender = $('input:radio[name="profile[gender]"]:checked').val();
  var profile_status = $('input:radio[name="profile[status]"]:checked').val();
  var profile_religion = document.getElementById("profile_religion");
  var profile_religion_value = profile_religion.options[profile_religion.selectedIndex].value;
  var profile_ethnicity = document.getElementById("profile_ethnicity");
  var profile_ethnicity_value = profile_ethnicity.options[profile_ethnicity.selectedIndex].value;
  var profile_education = document.getElementById("profile_education");
  var profile_education_value = profile_education.options[profile_education.selectedIndex].value;
  var profile_household = document.getElementById("profile_household");
  var profile_household_value = profile_household.options[profile_household.selectedIndex].value;
  var profile_bodytype = document.getElementById("profile_bodytype");
  var profile_bodytype_value = profile_bodytype.options[profile_bodytype.selectedIndex].value;
  var profile_occupation = document.getElementById("profile_occupation").value;
  
  var profile_smoker = document.getElementById("profile_smoker");
  var profile_smoker_value = profile_smoker.options[profile_smoker.selectedIndex].value;
  
  var profile_drinker = document.getElementById("profile_drinker");
  var profile_drinker_value = profile_drinker.options[profile_drinker.selectedIndex].value;
  
  var profile_wantkids = document.getElementById("profile_wantkids");
  var profile_wantkids_value = profile_wantkids.options[profile_wantkids.selectedIndex].value;
  
  var profile_children = document.getElementById("profile_children");
  var profile_children_value = profile_children.options[profile_children.selectedIndex].value;
  
  var profile_experience = document.getElementById("profile_experience_with_courtship");
  var profile_experience_value = profile_experience.options[profile_experience.selectedIndex].value;

  
  var profile_religious = document.getElementById("profile_religious_values");
  var profile_religious_value = profile_religious.options[profile_religious.selectedIndex].value;
  var x = 0;
    
  var profile_heading = document.getElementById("text_area").value;
  var profile_selfbio = document.getElementById("profile_selfbio").value;
  var profile_ideal = document.getElementById("profile_ideal").value;
  
  var profile_terms = $('#profile_tandc:checkbox:checked').length > 0;
  
  if (profile_terms == false) {
    document.getElementById('tandc').style.display = 'unset';
    x += 1;
  } else {
    document.getElementById('tandc').style.display = 'none';
  }
  
    if (profile_selfbio == "") {
    document.getElementById('selfbio').style.display = 'unset';
    x += 1;
  } else {
    document.getElementById('selfbio').style.display = 'none';
  }
  
    if (profile_ideal == "") {
    document.getElementById('ideal').style.display = 'unset';
    x += 1;
  } else {
    document.getElementById('ideal').style.display = 'none';
  }
  
  if (profile_heading == "") {
    document.getElementById('heading').style.display = 'unset';
    x += 1;
  } else {
    document.getElementById('heading').style.display = 'none';
  }
  
  if (profile_religious_value == "") {
    document.getElementById('religious').style.display = 'unset';
    x += 1;
  } else {
    document.getElementById('religious').style.display = 'none';
  }
    
  if (profile_experience_value == "") {
    document.getElementById('experience').style.display = 'unset';
    x += 1;
  } else {
    document.getElementById('experience').style.display = 'none';
  }
  
  if (profile_children_value == "") {
  document.getElementById('children').style.display = 'unset';
    x += 1;
  } else {
    document.getElementById('children').style.display = 'none';
  }
  
  if (profile_wantkids_value == "") {
    document.getElementById('wantkids').style.display = 'unset';
    x += 1;
  } else {
    document.getElementById('wantkids').style.display = 'none';
  }
  
    if (profile_drinker_value == "") {
    document.getElementById('drinker').style.display = 'unset';
    
  x += 1;
  } else {
    document.getElementById('drinker').style.display = 'none';
  }
  
  if (profile_smoker_value == "") {
    document.getElementById('smoker').style.display = 'unset';
    
  x += 1;
  } else {
    document.getElementById('smoker').style.display = 'none';
  }
  
  
     if (profile_bodytype_value == "") {
    document.getElementById('bodytype').style.display = 'unset';
    
  x += 1;
  } else {
    document.getElementById('bodytype').style.display = 'none';
  }
  
   if (profile_household_value == "") {
    document.getElementById('household').style.display = 'unset';
    
  x += 1;
  } else {
    document.getElementById('household').style.display = 'none';
  }
  
  if (profile_occupation == "") {
    document.getElementById('occupation').style.display = 'unset';
    
  x += 1;
  } else {
    document.getElementById('occupation').style.display = 'none';
  }
  
  if (profile_education_value == "") {
     document.getElementById('education').style.display = 'unset';
    
   x += 1;
  } else {
    document.getElementById('education').style.display = 'none';
  }
  
  if (profile_ethnicity_value == "") {
     document.getElementById('ethnicity').style.display = 'unset';
    
   x += 1;
  } else {
    document.getElementById('ethnicity').style.display = 'none';
  }
  
  if (profile_religion_value == "") {
     document.getElementById('religion').style.display = 'unset';
    
   x += 1;
  } else {
    document.getElementById('religion').style.display = 'none';
  }
  
  if (profile_gender == undefined) {
     document.getElementById('status').style.display = 'unset';
    
   x += 1;
  } else {
    document.getElementById('status').style.display = 'none';
  }
  
  if (profile_gender == undefined) {
     document.getElementById('gender').style.display = 'unset';
    
   x += 1;
  } else {
    document.getElementById('gender').style.display = 'none';
  }
  
  if (profile_city == "") {
     document.getElementById('city').style.display = 'unset';
    
   x += 1;
  } else {
    document.getElementById('city').style.display = 'none';
  }
  
  
  if (profile_state == "") {
     document.getElementById('state').style.display = 'unset';
    
   x += 1;
  } else {
    document.getElementById('state').style.display = 'none';
  }
  
  if (profile_name == "") {
     document.getElementById('name').style.display = 'unset';
    
   x += 1;
  } else {
    document.getElementById('name').style.display = 'none';
  }
  
  if (profile_country_value == "") {
    document.getElementById('country').style.display = 'unset';
    x += 1;
  } else {
    document.getElementById('country').style.display = 'none';
  }
  
  if(x > 0) {
     alert("Please check your information provided");
    return false;
   
  } else {
    return true;
  }
}
</script>